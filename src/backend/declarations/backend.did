type Transfer = record {
  id : nat32;
  created : nat64;
  from : text;
  to : text;
  filename : text;
  size : nat32;
  content_type : text;
  data : blob;
};

type TransferCreateRequest = record {
  to : text;
  filename : text;
  content_type : text;
  data : blob;
};

type TransferCreateResponse = variant {
  Ok : Transfer;
  Err : text;
};

type TransferListResponse = variant {
  Ok : vec Transfer;
  Err : text;
};

type TransferGetResponse = variant {
  Ok : Transfer;
  Err : text;
};

type VetkdEncryptedKeyResponse = variant {
  Ok : blob;
  Err : text;
};

type VetkdPublicKeyResponse = variant {
  Ok : blob;
  Err : text;
};

service : () -> {
  "transfer_create" : (TransferCreateRequest) -> (TransferCreateResponse);
  "transfer_list" : () -> (TransferListResponse);
  "transfer_get" : (nat32) -> (TransferGetResponse);
  "vetkd_encrypted_key" : (blob) -> (VetkdEncryptedKeyResponse);
  "vetkd_public_key" : (text) -> (VetkdPublicKeyResponse);
};
